<!DOCTYPE html>
<html>
<head>
<title>Department Schedule Planner</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@300;400;500;600;700&display=swap');

*{margin:0;padding:0;box-sizing:border-box}
body{
font-family:'SF Pro Display',-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;
padding:40px 20px;
background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);
min-height:100vh;
}
.container{
max-width:1400px;
margin:0 auto;
background:rgba(255,255,255,0.98);
padding:50px;
border-radius:30px;
box-shadow:0 20px 60px rgba(0,0,0,0.3);
backdrop-filter:blur(10px);
}
h1{
color:#1d1d1f;
margin-bottom:10px;
font-size:48px;
font-weight:700;
letter-spacing:-1px;
}
.subtitle{
color:#86868b;
font-size:21px;
font-weight:400;
margin-bottom:40px;
}
.faculty{
margin-bottom:50px;
border-radius:20px;
overflow:hidden;
box-shadow:0 8px 30px rgba(0,0,0,0.12);
background:white;
transition:transform 0.3s ease,box-shadow 0.3s ease;
}
.faculty:hover{
transform:translateY(-5px);
box-shadow:0 12px 40px rgba(0,0,0,0.18);
}
.faculty-header{
background:linear-gradient(135deg,#1d1d1f 0%,#2d2d2f 100%);
color:white;
padding:25px 30px;
font-size:22px;
font-weight:600;
display:flex;
justify-content:space-between;
align-items:center;
}
.faculty-name-input{
background:rgba(255,255,255,0.15);
border:2px solid rgba(255,255,255,0.2);
color:white;
padding:12px 18px;
border-radius:12px;
font-size:20px;
font-weight:600;
width:280px;
transition:all 0.3s ease;
}
.faculty-name-input:focus{
background:rgba(255,255,255,0.25);
outline:none;
border-color:rgba(255,255,255,0.4);
}
.years-container{
display:grid;
grid-template-columns:repeat(3,1fr);
gap:25px;
padding:30px;
background:#fafafa;
}
.year{
border-radius:16px;
padding:20px;
background:white;
box-shadow:0 4px 15px rgba(0,0,0,0.08);
transition:all 0.3s ease;
}
.year:hover{
box-shadow:0 8px 25px rgba(0,0,0,0.12);
}
.year-title{
font-weight:600;
font-size:18px;
color:#1d1d1f;
margin-bottom:20px;
padding-bottom:12px;
border-bottom:2px solid #f5f5f7;
letter-spacing:-0.5px;
}
.semester{
margin:20px 0;
padding:16px;
background:#f5f5f7;
border-radius:12px;
transition:background 0.2s ease;
}
.semester:hover{
background:#e8e8ed;
}
.semester-label{
font-weight:500;
margin-bottom:12px;
color:#1d1d1f;
font-size:15px;
}
.boxes{
display:flex;
gap:10px;
flex-wrap:wrap;
margin-bottom:12px;
}
.box{
width:54px;
height:54px;
border:none;
border-radius:12px;
cursor:pointer;
display:flex;
align-items:center;
justify-content:center;
font-weight:600;
background:#ffffff;
font-size:16px;
color:#86868b;
transition:all 0.2s ease;
box-shadow:0 2px 8px rgba(0,0,0,0.1);
}
.box:hover{
transform:scale(1.05);
box-shadow:0 4px 12px rgba(0,0,0,0.15);
}
.box:active{
transform:scale(0.95);
}
.box.teaching{
background:linear-gradient(135deg,#0071e3 0%,#0077ed 100%);
color:white;
box-shadow:0 4px 15px rgba(0,113,227,0.4);
}
.box.release{
background:linear-gradient(135deg,#ff3b30 0%,#ff453a 100%);
color:white;
box-shadow:0 4px 15px rgba(255,59,48,0.4);
}
.box.sabbatical{
background:linear-gradient(135deg,#8e8e93 0%,#98989d 100%);
color:white;
box-shadow:0 4px 15px rgba(142,142,147,0.4);
}
.legend{
display:flex;
gap:30px;
margin-bottom:30px;
padding:20px 30px;
background:rgba(255,255,255,0.6);
border-radius:16px;
backdrop-filter:blur(10px);
}
.legend-item{
display:flex;
align-items:center;
gap:12px;
font-weight:500;
color:#1d1d1f;
}
.legend-box{
width:32px;
height:32px;
border-radius:8px;
border:none;
box-shadow:0 2px 8px rgba(0,0,0,0.15);
}
button{
padding:12px 24px;
background:linear-gradient(135deg,#0071e3 0%,#0077ed 100%);
color:white;
border:none;
border-radius:12px;
cursor:pointer;
margin:5px 5px 5px 0;
font-weight:600;
font-size:14px;
transition:all 0.2s ease;
box-shadow:0 4px 12px rgba(0,113,227,0.3);
}
button:hover{
transform:translateY(-2px);
box-shadow:0 6px 20px rgba(0,113,227,0.4);
}
button:active{
transform:translateY(0);
}
button.delete{
background:linear-gradient(135deg,#ff3b30 0%,#ff453a 100%);
box-shadow:0 4px 12px rgba(255,59,48,0.3);
}
button.delete:hover{
box-shadow:0 6px 20px rgba(255,59,48,0.4);
}
button.sab-btn{
padding:8px 16px;
font-size:13px;
}
.controls{
margin-bottom:30px;
padding:25px 30px;
background:rgba(255,255,255,0.6);
border-radius:16px;
backdrop-filter:blur(10px);
display:flex;
gap:15px;
align-items:center;
flex-wrap:wrap;
}
input{
padding:12px 20px;
border:2px solid #d2d2d7;
border-radius:12px;
font-size:16px;
font-weight:400;
transition:all 0.2s ease;
background:white;
}
input:focus{
outline:none;
border-color:#0071e3;
box-shadow:0 0 0 4px rgba(0,113,227,0.1);
}
.instructions{
background:rgba(255,255,255,0.6);
padding:20px 30px;
border-radius:16px;
margin-bottom:30px;
backdrop-filter:blur(10px);
font-size:15px;
line-height:1.6;
color:#1d1d1f;
}
.instructions strong{
font-weight:600;
}
.summary-section{
margin-top:50px;
padding:40px;
background:rgba(255,255,255,0.6);
border-radius:20px;
backdrop-filter:blur(10px);
}
.summary-section h2{
color:#1d1d1f;
margin-bottom:25px;
font-size:32px;
font-weight:700;
letter-spacing:-0.5px;
}
.summary-table{
width:100%;
border-collapse:separate;
border-spacing:0;
background:white;
border-radius:16px;
overflow:hidden;
box-shadow:0 4px 20px rgba(0,0,0,0.08);
}
.summary-table th{
background:linear-gradient(135deg,#1d1d1f 0%,#2d2d2f 100%);
color:white;
padding:16px 20px;
text-align:left;
font-weight:600;
font-size:14px;
letter-spacing:0.5px;
text-transform:uppercase;
}
.summary-table td{
padding:16px 20px;
border-bottom:1px solid #f5f5f7;
font-size:15px;
}
.summary-table tr:last-child td{
border-bottom:none;
}
.summary-table tbody tr{
transition:background 0.2s ease;
}
.summary-table tbody tr:hover{
background:#f5f5f7;
}
.total-row{
font-weight:600;
background:#f5f5f7 !important;
}
.warning{
color:#ff3b30;
font-weight:600;
}
.good{
color:#34c759;
font-weight:600;
}
@media print{
body{background:white}
.controls,.instructions{display:none}
}
@media(max-width:1200px){
.years-container{
grid-template-columns:repeat (3, 1fr);
}
}
</style>
</head>
<body>
<div class="container">
<h1>Department Schedule</h1>
<p class="subtitle">Plan your teaching load with clarity.</p>

<div class="instructions">
<strong>How it works:</strong> Click faculty names to edit. Tap boxes to cycle through teaching states. Set sabbaticals with one tap. Simple.
</div>

<div class="controls">
<input type="text" id="facultyName" placeholder="Add faculty member">
<button onclick="addFaculty()">Add Faculty</button>
<button onclick="exportData()">Save Data</button>
<button onclick="window.print()">Print</button>
</div>

<div class="legend">
<div class="legend-item">
<div class="legend-box" style="background:linear-gradient(135deg,#0071e3 0%,#0077ed 100%)"></div>
<span>Teaching</span>
</div>
<div class="legend-item">
<div class="legend-box" style="background:linear-gradient(135deg,#ff3b30 0%,#ff453a 100%)"></div>
<span>Course Release</span>
</div>
<div class="legend-item">
<div class="legend-box" style="background:linear-gradient(135deg,#8e8e93 0%,#98989d 100%)"></div>
<span>Sabbatical</span>
</div>
</div>

<div id="schedule"></div>

<div class="summary-section">
<h2>Summary</h2>
<table class="summary-table" id="summaryTable"></table>
</div>
</div>

<script>
let data=[
{name:'Faculty 1',schedule:{}},
{name:'Faculty 2',schedule:{}},
{name:'Faculty 3',schedule:{}},
{name:'Faculty 4',schedule:{}}
];
const years=['2026-27','2027-28', 2028-29];
const semesters=['Fall','Spring'];
const MAX_COURSES = 3;

function init(){
data.forEach(f=>{
years.forEach(y=>{
semesters.forEach(s=>{
const k=y+'-'+s;
if(!f.schedule[k])f.schedule[k]={courses:['','',''],sab:false};
});
});
});
render();
}

function updateName(fi, newName){
if(newName.trim()){
data[fi].name = newName.trim();
render();
}
}

function toggle(fi,k,ci){
const f=data[fi];
const sem=f.schedule[k];
if(sem.sab)return;
const states=['','teaching','release'];
const idx=states.indexOf(sem.courses[ci]);
sem.courses[ci]=states[(idx+1)%3];
render();
}

function toggleSab(fi,k){
const sem=data[fi].schedule[k];
sem.sab=!sem.sab;
if(sem.sab)sem.courses=['sabbatical','sabbatical','sabbatical'];
else sem.courses=['','',''];
render();
}

function deleteFaculty(fi){
if(confirm(`Delete ${data[fi].name}?`)){
data.splice(fi,1);
render();
}
}

function render(){
let html='';
data.forEach((f,fi)=>{
let total=0;
years.forEach(y=>{
semesters.forEach(s=>{
const sem=f.schedule[y+'-'+s];
if(!sem.sab)total+=sem.courses.filter(c=>c==='teaching').length;
});
});
html+=`<div class="faculty">
<div class="faculty-header">
<input type="text" class="faculty-name-input" value="${f.name}" 
onchange="updateName(${fi}, this.value)" 
placeholder="Faculty name">
<div>
<span style="margin-right:20px;font-weight:500">Total: ${total} courses</span>
<button class="delete" onclick="deleteFaculty(${fi})">Delete</button>
</div>
</div>
<div class="years-container">`;

years.forEach(y=>{
html+=`<div class="year">
<div class="year-title">${y}</div>`;

semesters.forEach(s=>{
const k=y+'-'+s;
const sem=f.schedule[k];
const tc=sem.courses.filter(c=>c==='teaching').length;
const rc=sem.courses.filter(c=>c==='release').length;
let summary=sem.sab?'Sabbatical':(tc?tc+' course'+(tc>1?'s':''):'')+(rc?' , '+rc+' release'+(rc>1?'s':''):'');
if(!sem.sab && !tc && !rc)summary='Not teaching';

html+=`<div class="semester">
<div class="semester-label">${s}: ${summary}</div>
<div class="boxes">`;

sem.courses.forEach((c,ci)=>{
const label=c==='teaching'?(ci+1):c==='release'?'R':c==='sabbatical'?'S':(ci+1);
html+=`<div class="box ${c}" onclick="toggle(${fi},'${k}',${ci})">${label}</div>`;
});

html+=`</div>
<button class="sab-btn" onclick="toggleSab(${fi},'${k}')">${sem.sab?'Clear':'Set'} Sabbatical</button>
</div>`;
});

html+=`</div>`;
});

html+=`</div></div>`;
});

document.getElementById('schedule').innerHTML=html;
renderSummaryTable();
}

function renderSummaryTable(){
let tableHTML = '<thead><tr><th>Faculty</th>';
years.forEach(y=>{
semesters.forEach(s=>{
tableHTML += `<th>${y}<br>${s}</th>`;
});
});
tableHTML += '<th>3-Year Total</th></tr></thead><tbody>';

let yearTotals = {};
years.forEach(y=>{
semesters.forEach(s=>{
yearTotals[y+'-'+s] = 0;
});
});
let grandTotal = 0;

data.forEach(f=>{
let rowTotal = 0;
tableHTML += `<tr><td><strong>${f.name}</strong></td>`;
years.forEach(y=>{
semesters.forEach(s=>{
const k=y+'-'+s;
const sem=f.schedule[k];
let cellContent = '';
if(sem.sab){
cellContent = '<span style="color:#8e8e93">Sabbatical</span>';
} else {
const tc=sem.courses.filter(c=>c==='teaching').length;
const rc=sem.courses.filter(c=>c==='release').length;
if(tc>0){
cellContent = `<span class="good">${tc} course${tc>1?'s':''}</span>`;
rowTotal += tc;
yearTotals[k] += tc;
}
if(rc>0){
cellContent += (tc>0?' + ':'') + `<span style="color:#ff3b30">${rc} release${rc>1?'s':''}</span>`;
}
if(!tc && !rc) cellContent = 'â€”';
}
tableHTML += `<td>${cellContent}</td>`;
});
});
grandTotal += rowTotal;
const avgPerYear = (rowTotal/3).toFixed(1);
const statusClass = rowTotal > 12 ? 'warning' : rowTotal < 6 ? 'warning' : 'good';
tableHTML += `<td class="${statusClass}">${rowTotal} (${avgPerYear}/yr)</td></tr>`;
});

tableHTML += '<tr class="total-row"><td>Semester Totals</td>';
years.forEach(y=>{
semesters.forEach(s=>{
const k=y+'-'+s;
tableHTML += `<td>${yearTotals[k]}</td>`;
});
});
tableHTML += `<td>${grandTotal}</td></tr>`;

tableHTML += '</tbody>';
document.getElementById('summaryTable').innerHTML = tableHTML;
}

function addFaculty(){
const name=document.getElementById('facultyName').value.trim();
if(!name){alert('Please enter a faculty name');return;}
data.push({name:name,schedule:{}});
document.getElementById('facultyName').value='';
init();
}

function exportData(){
const str=JSON.stringify(data,null,2);
const blob=new Blob([str],{type:'application/json'});
const url=URL.createObjectURL(blob);
const a=document.createElement('a');
a.href=url;
a.download='department-schedule.json';
a.click();
}

init();
</script>
</body>
</html>
