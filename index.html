<!DOCTYPE html>

<html>

<head>

<title>Department Schedule Planner</title>

<style>

body{font-family:Arial,sans-serif;padding:20px;background:#f5f5f5}

.container{max-width:1200px;margin:0 auto;background:white;padding:30px;border-radius:8px}

h1{color:#2c3e50;margin-bottom:30px}

.faculty{margin-bottom:40px;border:1px solid #ddd;border-radius:6px;overflow:hidden}

.faculty-header{background:#34495e;color:white;padding:15px;font-size:18px;font-weight:bold}

.year{padding:15px;border-bottom:1px solid #eee}

.semester{margin:10px 0}

.semester-label{font-weight:bold;margin-bottom:8px}

.boxes{display:flex;gap:8px;flex-wrap:wrap}

.box{width:50px;height:50px;border:2px solid #bdc3c7;border-radius:4px;cursor:pointer;display:flex;align-items:center;justify-content:center;font-weight:bold;background:white;font-size:14px}

.box.teaching{background:#3498db;border-color:#2980b9;color:white}

.box.release{background:#e74c3c;border-color:#c0392b;color:white}

.box.sabbatical{background:#95a5a6;border-color:#7f8c8d;color:white}

.legend{display:flex;gap:20px;margin-bottom:20px;padding:15px;background:#f8f9fa;border-radius:6px}

.legend-item{display:flex;align-items:center;gap:8px}

.legend-box{width:30px;height:30px;border-radius:4px;border:2px solid}

button{padding:8px 16px;background:#3498db;color:white;border:none;border-radius:4px;cursor:pointer;margin:5px}

button:hover{background:#2980b9}

.controls{margin-bottom:20px;padding:15px;background:#f8f9fa;border-radius:6px}

input{padding:8px;border:1px solid #ddd;border-radius:4px}

.instructions{background:#e8f4f8;padding:15px;border-radius:6px;margin-bottom:20px}

</style>

</head>

<body>

<div class="container">

<h1>Department Teaching Schedule Planner</h1>



<div class="instructions">

<strong>Instructions:</strong> Click boxes to cycle through: Empty → Teaching (Blue) → Release (Red) → Empty. 

Use "Set Sabbatical" to mark entire semester.

</div>



<div class="controls">

<input type="text" id="facultyName" placeholder="Faculty name">

<button onclick="addFaculty()">Add Faculty</button>

<button onclick="exportData()">Save Data</button>

<button onclick="window.print()">Print</button>

</div>



<div class="legend">

<div class="legend-item"><div class="legend-box" style="background:#3498db;border-color:#2980b9"></div><span>Teaching</span></div>

<div class="legend-item"><div class="legend-box" style="background:#e74c3c;border-color:#c0392b"></div><span>Course Release</span></div>

<div class="legend-item"><div class="legend-box" style="background:#95a5a6;border-color:#7f8c8d"></div><span>Sabbatical</span></div>

</div>



<div id="schedule"></div>

</div>



<script>

let data=[

{name:'Faculty 1',schedule:{}},

{name:'Faculty 2',schedule:{}},

{name:'Faculty 3',schedule:{}},

{name:'Faculty 4',schedule:{}}

];

const years=['2025-26','2026-27','2027-28'];

const semesters=['Fall','Spring'];



function init(){

data.forEach(f=>{

years.forEach(y=>{

semesters.forEach(s=>{

const k=y+'-'+s;

if(!f.schedule[k])f.schedule[k]={courses:['','','','',''],sab:false};

});

});

});

render();

}



function toggle(fi,k,ci){

const f=data[fi];

const sem=f.schedule[k];

if(sem.sab)return;

const states=['','teaching','release'];

const idx=states.indexOf(sem.courses[ci]);

sem.courses[ci]=states[(idx+1)%3];

render();

}



function toggleSab(fi,k){

const sem=data[fi].schedule[k];

sem.sab=!sem.sab;

if(sem.sab)sem.courses=['sabbatical','sabbatical','sabbatical','sabbatical','sabbatical'];

else sem.courses=['','','','',''];

render();

}



function render(){

let html='';

data.forEach((f,fi)=>{

let total=0;

years.forEach(y=>{

semesters.forEach(s=>{

const sem=f.schedule[y+'-'+s];

if(!sem.sab)total+=sem.courses.filter(c=>c==='teaching').length;

});

});

html+=`<div class="faculty"><div class="faculty-header">${f.name} - 3-Year Total: ${total} courses</div>`;

years.forEach(y=>{

html+=`<div class="year"><strong>${y} Academic Year</strong>`;

semesters.forEach(s=>{

const k=y+'-'+s;

const sem=f.schedule[k];

const tc=sem.courses.filter(c=>c==='teaching').length;

const rc=sem.courses.filter(c=>c==='release').length;

let summary=sem.sab?'On Sabbatical':(tc?tc+' course'+(tc>1?'s':''):'')+(rc?' , '+rc+' release'+(rc>1?'s':''):'');

if(!sem.sab && !tc && !rc)summary='Not teaching';

html+=`<div class="semester"><div class="semester-label">${s}: ${summary}</div><div class="boxes">`;

sem.courses.forEach((c,ci)=>{

const label=c==='teaching'?(ci+1):c==='release'?'R':c==='sabbatical'?'S':(ci+1);

html+=`<div class="box ${c}" onclick="toggle(${fi},'${k}',${ci})">${label}</div>`;

});

html+=`</div><button onclick="toggleSab(${fi},'${k}')">${sem.sab?'Clear':'Set'} Sabbatical</button></div>`;

});

html+=`</div>`;

});

html+=`</div>`;

});

document.getElementById('schedule').innerHTML=html;

}



function addFaculty(){

const name=document.getElementById('facultyName').value.trim();

if(!name){alert('Please enter a faculty name');return;}

data.push({name:name,schedule:{}});

document.getElementById('facultyName').value='';

init();

}



function exportData(){

const str=JSON.stringify(data,null,2);

const blob=new Blob([str],{type:'application/json'});

const url=URL.createObjectURL(blob);

const a=document.createElement('a');

a.href=url;

a.download='department-schedule.json';

a.click();

}



init();

</script>

</body>

</html>
